# Capability: Progress Tracking (进度追踪)

## ADDED Requirements

### Requirement: 会话历史记录
系统SHALL完整记录所有练习会话的数据。

#### Scenario: 记录会话基本信息
- **WHEN** 用户完成一次练习会话
- **THEN** 系统保存会话ID、开始/结束时间、专项类别、关联计划ID
- **AND** 保存完成题数、总题数、整体得分
- **AND** 保存每道题的问答记录和AI反馈

#### Scenario: 查询历史会话列表
- **WHEN** 用户查询历史会话
- **THEN** 默认显示最近30天的会话列表（按时间倒序）
- **AND** 每条记录显示日期、类别、题数、平均分
- **AND** 支持按类别、日期范围、计划筛选

### Requirement: 进度统计和可视化
系统SHALL提供多维度的进度统计数据。

#### Scenario: 按时间统计练习量
- **WHEN** 用户查看进度统计
- **THEN** 显示指定时间段（如最近7天、30天）的练习频率
- **AND** 统计总会话数、总题数、总练习时长
- **AND** 以日历热力图或柱状图形式展示（文本图表或导出数据）

#### Scenario: 按类别统计表现
- **WHEN** 用户查看各专项表现
- **THEN** 显示七大类别的练习题数、平均分、最高/最低分
- **AND** 识别最强和最弱的类别
- **AND** 对比各类别的练习分布是否均衡

#### Scenario: 得分趋势分析
- **WHEN** 用户查看得分趋势
- **THEN** 显示最近N次会话的得分折线图（按时间）
- **AND** 计算得分的变化趋势（上升/下降/稳定）
- **AND** 标注显著的进步或退步时间点

### Requirement: 弱点追踪
系统SHALL持续追踪和分析学生的薄弱环节。

#### Scenario: 识别持续弱点
- **WHEN** 系统分析历史会话数据
- **THEN** 识别连续表现不佳的类别或子领域（如"逻辑思维题连续5次<60分"）
- **AND** 标注弱点的持续时间和严重程度
- **AND** 生成弱点报告并建议增加针对性练习

#### Scenario: 追踪弱点改善情况
- **WHEN** 系统检测到之前的弱点
- **THEN** 对比最近表现与弱点期表现
- **AND** 判断弱点是否已改善（如"逻辑思维从平均58分提升至75分"）
- **AND** 如已改善，标记弱点为"已克服"并给予正面反馈

### Requirement: 里程碑和成就
系统SHALL识别和庆祝学生达成的里程碑。

#### Scenario: 识别练习里程碑
- **WHEN** 用户累计练习达到特定数量（如完成100题、练习30天等）
- **THEN** 系统生成里程碑成就提示
- **AND** 记录成就达成时间
- **AND** 可选：生成成就徽章或证书

#### Scenario: 识别表现突破
- **WHEN** 用户某类别得分首次达到优秀（如英文口语首次>85分）
- **THEN** 系统标记为"突破成就"
- **AND** 在进度报告中高亮显示

### Requirement: 进度报告生成
系统SHALL生成周期性和按需的进度报告。

#### Scenario: 生成每周进度报告
- **WHEN** 每周结束或用户主动请求周报
- **THEN** 系统生成包含以下内容的报告：
  - 本周练习统计（会话数、题数、总时长）
  - 各类别表现和得分对比
  - 本周弱点和改进建议
  - 与上周对比的进步情况
- **AND** 报告以结构化文本或Markdown格式展示
- **AND** 支持导出为PDF（可选功能）

#### Scenario: 生成面试前总结报告
- **WHEN** 接近面试日期（如提前1周）或用户请求总结
- **THEN** 系统生成完整的训练总结报告：
  - 整体练习概览（总题数、总时长、完成率）
  - 各类别表现雷达图或评分表
  - 已克服的弱点和仍需注意的方面
  - 针对目标学校的准备充分度评估
  - 最后冲刺建议
- **AND** 报告可分享给家长或老师

### Requirement: 数据导出
系统SHALL支持导出进度数据以便外部分析。

#### Scenario: 导出会话原始数据
- **WHEN** 用户请求导出数据
- **THEN** 系统将历史会话数据导出为CSV或JSON格式
- **AND** 包含：会话ID、时间、类别、题目、回答、反馈、得分等字段
- **AND** 支持按日期范围和类别筛选导出

#### Scenario: 导出统计图表
- **WHEN** 用户请求导出可视化数据
- **THEN** 系统生成图表图片（PNG/SVG）或数据表格（CSV）
- **AND** 包含：得分趋势、类别雷达图、练习日历等
- **AND** 适合用于打印或演示

### Requirement: 对比和基准
系统SHALL提供对比和基准功能帮助用户了解自己的水平。

#### Scenario: 自我纵向对比
- **WHEN** 用户查看进度时
- **THEN** 显示"本月 vs 上月"、"本周 vs 上周"等对比数据
- **AND** 以百分比或绝对值显示变化（如"+12%"、"+8分"）

#### Scenario: 目标达成度追踪
- **WHEN** 用户设置了目标（如"英文口语达到85分"）
- **THEN** 显示当前距离目标的差距和预计达成时间
- **AND** 根据进步速度给出是否需要加强练习的建议
