# Change: 自動生成題目以避免服務中断

## Why

当前係統在創建訓練計劃或启動練習會話時，如果某个類別没有可用題目，會直接抛出错误并中断流程。这會導致：
1. 用户体验差：用户需要手動去題庫页面生成題目，然後重新尝試創建計劃或启動練習
2. 服務不稳定：错误可能導致前端显示错误信息，影响用户继续使用
3. 效率低下：用户需要额外的操作步骤，无法流畅地使用係統

用户期望係統能够智能地检测題目缺失情况，并自動通過AI生成所需題目，確保流程能够顺畅進行。

## What Changes

- **訓練計劃創建流程增强**：当創建訓練計劃時，如果检测到某个類別没有可用題目，係統自動調用AI生成題目，而不是抛出错误
- **練習會話創建流程增强**：当從任務启動練習會話時，如果该類別没有可用題目，係統自動生成題目後再继续創建會話
- **错误处理增强**：所有題目缺失相關的错误处理都改为自動生成，確保不會因为題目缺失導致服務中断或重启
- **題目生成策略**：根據任務或計劃的上下文（類別、目標學校、難度）智能生成合适數量的題目
- **降级处理**：如果AI生成題目失敗，提供友好的错误提示，但不會導致服務崩溃

## Impact

- **Affected specs**:
  - `training-plans` - 訓練計劃創建流程需要修改
  - `interview-practice` - 練習會話創建流程需要修改
  - `question-bank` - 題目生成能力需要增强，支持按需自動生成

- **Affected code**:
  - `backend/src/routes/plans.ts` - 修改任務启動練習會話的邏輯
  - `backend/src/routes/sessions.ts` - 修改自由模式創建會話的邏輯
  - `backend/src/ai/questionGenerator.ts` - 可能需要增强以支持批量生成
  - `backend/src/middleware/errorHandler.ts` - 確保错误处理不會導致服務重启

- **Breaking changes**: 无
