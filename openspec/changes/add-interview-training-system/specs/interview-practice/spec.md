# Capability: Interview Practice (面試練習)

## ADDED Requirements

### Requirement: 启動練習會話
係統SHALL允许用户启動新的練習會話，并根據訓練計劃選擇合适的題目。

#### Scenario: 根據今日任務启動練習
- **WHEN** 用户启動練習并指定專項類別（如"english-oral"）
- **THEN** 係統從題庫中選擇符合条件的題目（匹配目標學校、适当難度）
- **AND** 創建新的會話記錄（包含會話ID、開始時間、專項類別）
- **AND** 展示第一道題目给用户

#### Scenario: 指定題目數量
- **WHEN** 用户启動練習并指定做題數量（如10題）
- **THEN** 係統预先選擇相应數量的題目
- **AND** 显示進度指示（如"第1/10題"）

### Requirement: 文字問答模式
係統SHALL支持用户通過文字输入回答問題。

#### Scenario: 提交文字答案
- **WHEN** 用户输入答案文字并提交
- **THEN** 係統保存問答記錄（題目ID、問題文本、學生答案、時間戳）
- **AND** 提示是否查看即時反馈或继续下一題

#### Scenario: 跳過題目
- **WHEN** 用户選擇跳過当前題目
- **THEN** 係統標記该題为"已跳過"但保留記錄
- **AND** 展示下一題

### Requirement: AI模拟面試官
係統SHALL使用AI扮演面試官角色，進行動態提問和追問。

#### Scenario: AI生成開场問題
- **WHEN** 用户启動"AI模拟面試"模式
- **THEN** 係統調用AI生成開场問題（基于專項類別和學校特征）
- **AND** 展示問題并等待用户回答

#### Scenario: AI根據回答追問
- **WHEN** 用户回答後，AI識別回答需要深入探討的點
- **THEN** AI生成追問（如"你能举个具体例子吗？"）
- **AND** 继续對話直到達到预设輪數（如3-5輪）或用户結束

#### Scenario: AI對話异常处理
- **WHEN** AI API調用失敗或响应超時
- **THEN** 係統切换回題庫模式，從预设題目中選題
- **AND** 提示用户当前使用備用題庫

### Requirement: 題目生成和扩展
係統SHALL支持動態生成新題目以补充題庫。

#### Scenario: AI批量生成題目
- **WHEN** 用户请求生成指定類別和數量的題目（如"生成10道英文口語題"）
- **THEN** 係統調用AI生成題目列表（包含問題文本、參考答案、評分標準）
- **AND** 将生成的題目保存到題庫并分配唯一ID
- **AND** 標注生成來源和時間

#### Scenario: 根據弱點生成針對性題目
- **WHEN** 係統检测到用户某方面持续薄弱（如"時事常識"）
- **THEN** 自動生成針對该弱點的題目
- **AND** 在題目元數據中標注"針對弱點：時事常識"

### Requirement: 會話管理
係統SHALL管理練習會話的生命周期和狀態。

#### Scenario: 暫停和恢复會話
- **WHEN** 用户在會話中途退出
- **THEN** 係統保存当前進度（已完成題數、当前題目ID）
- **AND** 用户下次启動時可選擇继续未完成會話或開始新會話

#### Scenario: 完成會話并生成總結
- **WHEN** 用户完成所有題目或主動結束會話
- **THEN** 係統標記會話为"已完成"并記錄結束時間
- **AND** 触發AI生成會話總結（整体表现、亮點、弱點）
- **AND** 更新每日任務的完成計數
