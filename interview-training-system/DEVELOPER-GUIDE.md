# å¼€å‘è€…æ–‡æ¡£ - å‡ä¸­é¢è¯•è®­ç»ƒç³»ç»Ÿ

## é¡¹ç›®æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªä¸ºé¦™æ¸¯å°å­¦ç”Ÿè®¾è®¡çš„æœ¬åœ°Webåº”ç”¨ï¼Œç”¨äºå‡ä¸­é¢è¯•çš„ç³»ç»ŸåŒ–è®­ç»ƒã€‚ç³»ç»Ÿæä¾›AIé©±åŠ¨çš„è®­ç»ƒè®¡åˆ’ç”Ÿæˆã€é¢˜ç›®ç»ƒä¹ ã€å³æ—¶åé¦ˆã€è¿›åº¦è¿½è¸ªå’Œå¼±ç‚¹åˆ†æç­‰åŠŸèƒ½ã€‚

**æŠ€æœ¯æ ˆ**ï¼š
- å‰ç«¯ï¼šReact 18 + TypeScript + Vite + Ant Design 5.x
- åç«¯ï¼šNode.js + Express + TypeScript
- æ•°æ®åº“ï¼šMySQL 8.0+
- AIæœåŠ¡ï¼šDeepSeek API
- çŠ¶æ€ç®¡ç†ï¼šZustand
- HTTPå®¢æˆ·ç«¯ï¼šAxios

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ  æœ¬åœ°è¿è¡Œï¼Œä¿æŠ¤éšç§
- ğŸ¤– AIé©±åŠ¨çš„ä¸ªæ€§åŒ–è®­ç»ƒ
- ğŸ“Š å…¨é¢çš„è¿›åº¦è¿½è¸ªå’Œå¼±ç‚¹åˆ†æ
- ğŸ¯ é’ˆå¯¹TOPå­¦æ ¡çš„å®šåˆ¶åŒ–å†…å®¹

---

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æµè§ˆå™¨ (localhost:5173)        â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     React Application       â”‚   â”‚
â”‚  â”‚  - Dashboard (ä»ªè¡¨ç›˜)        â”‚   â”‚
â”‚  â”‚  - Practice (ç»ƒä¹ ç•Œé¢)       â”‚   â”‚
â”‚  â”‚  - Feedback (åé¦ˆæŸ¥çœ‹)       â”‚   â”‚
â”‚  â”‚  - Progress (è¿›åº¦æŠ¥å‘Š)       â”‚   â”‚
â”‚  â”‚  - Settings (ç³»ç»Ÿè®¾ç½®)       â”‚   â”‚
â”‚  â”‚  - Questions (é¢˜åº“ç®¡ç†)      â”‚   â”‚
â”‚  â”‚  - Schools (å­¦æ ¡æ¡£æ¡ˆ)        â”‚   â”‚
â”‚  â”‚  - Interview Memory (å›å¿†)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP REST API
               â”‚ (Axios)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Express Server (localhost:3001)  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      API Routes             â”‚   â”‚
â”‚  â”‚  /api/schools               â”‚   â”‚
â”‚  â”‚  /api/questions             â”‚   â”‚
â”‚  â”‚  /api/plans                 â”‚   â”‚
â”‚  â”‚  /api/sessions              â”‚   â”‚
â”‚  â”‚  /api/feedback              â”‚   â”‚
â”‚  â”‚  /api/progress              â”‚   â”‚
â”‚  â”‚  /api/ai                    â”‚   â”‚
â”‚  â”‚  /api/weaknesses            â”‚   â”‚
â”‚  â”‚  /api/data                  â”‚   â”‚
â”‚  â”‚  /api/settings              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Business Logic           â”‚   â”‚
â”‚  â”‚  - AI Service Integration   â”‚   â”‚
â”‚  â”‚  - Data Processing          â”‚   â”‚
â”‚  â”‚  - Error Handling           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> MySQL (localhost:3306)
               â”‚                - training_plans
               â”‚                - daily_tasks
               â”‚                - sessions
               â”‚                - qa_records
               â”‚                - feedback
               â”‚                - questions
               â”‚                - school_profiles
               â”‚                - student_weaknesses
               â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> DeepSeek API
                                (https://api.deepseek.com)
                                - è®­ç»ƒè®¡åˆ’ç”Ÿæˆ
                                - é¢˜ç›®ç”Ÿæˆ
                                - åé¦ˆåˆ†æ
                                - å­¦æ ¡æ¡£æ¡ˆç”Ÿæˆ
                                - å¼±ç‚¹åˆ†æ
```

---

## æ•°æ®åº“è®¾è®¡

### ER å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ school_profiles â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚
â”‚ code (UNIQUE)   â”‚â—„â”€â”€â”€â”€â”
â”‚ name            â”‚     â”‚
â”‚ focus_areas     â”‚     â”‚ FK
â”‚ ...             â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   questions     â”‚     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚     â”‚
â”‚ id (PK)         â”‚     â”‚
â”‚ category        â”‚     â”‚
â”‚ question_text   â”‚     â”‚
â”‚ difficulty      â”‚     â”‚
â”‚ school_code     â”‚â”€â”€â”€â”€â”€â”˜
â”‚ source          â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ FK (question_id)
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   qa_records    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚
â”‚ session_id (FK) â”‚â”€â”€â”€â”€â”
â”‚ question_id (FK)â”‚    â”‚
â”‚ answer_text     â”‚    â”‚
â”‚ ...             â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    sessions     â”‚    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
â”‚ id (PK)         â”‚â—„â”€â”€â”€â”˜
â”‚ plan_id (FK)    â”‚â”€â”€â”€â”€â”
â”‚ category        â”‚    â”‚
â”‚ mode            â”‚    â”‚
â”‚ ...             â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ training_plans  â”‚    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
â”‚ id (PK)         â”‚â—„â”€â”€â”€â”˜
â”‚ student_name    â”‚
â”‚ target_school   â”‚
â”‚ start_date      â”‚
â”‚ category_alloc  â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ FK (plan_id)
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  daily_tasks    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚
â”‚ plan_id (FK)    â”‚
â”‚ date            â”‚
â”‚ category        â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    feedback     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚
â”‚ session_id (FK) â”‚
â”‚ overall_score   â”‚
â”‚ feedback_json   â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ student_weaknessesâ”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)           â”‚
â”‚ student_name      â”‚
â”‚ category          â”‚
â”‚ weakness_type     â”‚
â”‚ description       â”‚
â”‚ severity          â”‚
â”‚ practice_count    â”‚
â”‚ status            â”‚
â”‚ ...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè¡¨è¯´æ˜

#### 1. `school_profiles` - å­¦æ ¡æ¡£æ¡ˆ
å­˜å‚¨TOPå­¦æ ¡çš„é¢è¯•ç‰¹ç‚¹å’Œè¯„åˆ†æ ‡å‡†ã€‚

**å…³é”®å­—æ®µ**ï¼š
- `code`: å­¦æ ¡ä»£ç ï¼ˆå¦‚ SPCC, QCï¼‰
- `focus_areas`: JSONæ•°ç»„ï¼Œé¢è¯•é‡ç‚¹é¢†åŸŸ
- `interview_style`: é¢è¯•é£æ ¼æè¿°

#### 2. `questions` - é¢˜åº“
å­˜å‚¨æ‰€æœ‰ç»ƒä¹ é¢˜ç›®ï¼Œæ”¯æŒå¤šæ¥æºã€‚

**å…³é”®å­—æ®µ**ï¼š
- `category`: ä¸“é¡¹ç±»åˆ«ï¼ˆ7ç§ï¼‰
- `source`: æ¥æºï¼ˆseed, ai_generated, interview_memory, ai_generated_targetedï¼‰
- `school_code`: å…³è”å­¦æ ¡ï¼ˆå¯é€‰ï¼‰

#### 3. `training_plans` - è®­ç»ƒè®¡åˆ’
AIç”Ÿæˆæˆ–æ‰‹åŠ¨åˆ›å»ºçš„è®­ç»ƒè®¡åˆ’ã€‚

**å…³é”®å­—æ®µ**ï¼š
- `category_allocation`: JSONå¯¹è±¡ï¼Œå„ç±»åˆ«çš„æ—¶é—´åˆ†é…æ¯”ä¾‹
- `ai_suggestions`: AIç”Ÿæˆçš„è®­ç»ƒå»ºè®®

#### 4. `sessions` - ç»ƒä¹ ä¼šè¯
æ¯æ¬¡ç»ƒä¹ çš„ä¼šè¯è®°å½•ã€‚

**å…³é”®å­—æ®µ**ï¼š
- `mode`: ç»ƒä¹ æ¨¡å¼ï¼ˆfocus, mixed, mockï¼‰
- `status`: ä¼šè¯çŠ¶æ€ï¼ˆin_progress, completed, pausedï¼‰

#### 5. `feedback` - AIåé¦ˆ
AIå¯¹ç»ƒä¹ ä¼šè¯çš„è¯¦ç»†åé¦ˆã€‚

**å…³é”®å­—æ®µ**ï¼š
- `overall_score`: æ€»ä½“è¯„åˆ†ï¼ˆ0-100ï¼‰
- `feedback_json`: JSONå¯¹è±¡ï¼Œè¯¦ç»†åé¦ˆå†…å®¹

#### 6. `student_weaknesses` - å­¦ç”Ÿå¼±ç‚¹åˆ†æ ğŸ†•
ä»é¢è¯•å›å¿†æˆ–åé¦ˆä¸­è¯†åˆ«çš„å­¦ç”Ÿå¼±ç‚¹ã€‚

**å…³é”®å­—æ®µ**ï¼š
- `weakness_type`: å¼±ç‚¹ç±»å‹ï¼ˆ6ç§ï¼‰
- `severity`: ä¸¥é‡ç¨‹åº¦ï¼ˆlow, medium, highï¼‰
- `practice_count`: å·²é’ˆå¯¹æ€§ç»ƒä¹ æ¬¡æ•°
- `status`: çŠ¶æ€ï¼ˆactive, improved, resolvedï¼‰

---

## API æ¥å£è®¾è®¡

### åŸºç¡€è§„èŒƒ

**Base URL**: `http://localhost:3001/api`

**å“åº”æ ¼å¼**ï¼š
```json
{
  "success": true|false,
  "message": "æ“ä½œè¯´æ˜",
  "data": { ... }
}
```

**é”™è¯¯å“åº”**ï¼š
```json
{
  "success": false,
  "message": "é”™è¯¯æè¿°",
  "code": "ERROR_CODE",
  "statusCode": 400
}
```

### ä¸»è¦APIæ¨¡å—

#### 1. Schools API (`/api/schools`)
- `GET /` - è·å–å­¦æ ¡åˆ—è¡¨
- `GET /:id` - è·å–å­¦æ ¡è¯¦æƒ…
- `POST /` - åˆ›å»ºå­¦æ ¡æ¡£æ¡ˆ
- `PUT /:id` - æ›´æ–°å­¦æ ¡æ¡£æ¡ˆ
- `DELETE /:id` - åˆ é™¤å­¦æ ¡æ¡£æ¡ˆ

#### 2. Questions API (`/api/questions`)
- `GET /` - è·å–é¢˜ç›®åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- `GET /:id` - è·å–é¢˜ç›®è¯¦æƒ…
- `POST /` - åˆ›å»ºé¢˜ç›®
- `PUT /:id` - æ›´æ–°é¢˜ç›®
- `DELETE /:id` - åˆ é™¤é¢˜ç›®

#### 3. AI API (`/api/ai`)
- `POST /generate-plan` - AIç”Ÿæˆè®­ç»ƒè®¡åˆ’
- `POST /generate-questions` - AIç”Ÿæˆé¢˜ç›®
- `POST /analyze-feedback` - AIåˆ†æåé¦ˆ
- `POST /generate-school-profile` - AIç”Ÿæˆå­¦æ ¡æ¡£æ¡ˆ
- `POST /extract-interview-memory` - AIæå–é¢è¯•å›å¿†
- `POST /save-interview-questions` - ä¿å­˜é¢è¯•é¢˜ç›®
- `POST /save-weaknesses` - ä¿å­˜å¼±ç‚¹åˆ†æ ğŸ†•
- `POST /generate-questions-from-weaknesses` - æ ¹æ®å¼±ç‚¹ç”Ÿæˆé¢˜ç›® ğŸ†•
- `POST /test-connection` - æµ‹è¯•APIè¿æ¥

#### 4. Weaknesses API (`/api/weaknesses`) ğŸ†•
- `GET /` - è·å–å¼±ç‚¹åˆ—è¡¨
- `GET /:id` - è·å–å¼±ç‚¹è¯¦æƒ…
- `PATCH /:id/status` - æ›´æ–°å¼±ç‚¹çŠ¶æ€
- `DELETE /:id` - åˆ é™¤å¼±ç‚¹è®°å½•
- `GET /stats/summary` - å¼±ç‚¹ç»Ÿè®¡
- `GET /stats/trends` - å¼±ç‚¹è¶‹åŠ¿åˆ†æ

---

## å‰ç«¯æ¶æ„

### ç›®å½•ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/      # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ Practice/       # ç»ƒä¹ ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ Feedback/       # åé¦ˆæŸ¥çœ‹
â”‚   â”‚   â”œâ”€â”€ Progress/       # è¿›åº¦æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ Settings/       # ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â”œâ”€â”€ Questions/      # é¢˜åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Schools/        # å­¦æ ¡æ¡£æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ InterviewMemory/# é¢è¯•å›å¿†
â”‚   â”‚   â””â”€â”€ TrainingPlan/   # è®­ç»ƒè®¡åˆ’
â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ store/              # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx             # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ main.tsx            # Reactå…¥å£
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â””â”€â”€ package.json
```

### è·¯ç”±ç»“æ„

```typescript
const routes = [
  { path: '/', element: <Dashboard /> },
  { path: '/training-plan', element: <TrainingPlan /> },
  { path: '/practice', element: <Practice /> },
  { path: '/feedback', element: <Feedback /> },
  { path: '/progress', element: <Progress /> },
  { path: '/questions', element: <Questions /> },
  { path: '/schools', element: <Schools /> },
  { path: '/interview-memory', element: <InterviewMemory /> },
  { path: '/settings', element: <Settings /> },
];
```

### çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰

```typescript
// Example: settingsStore
interface SettingsState {
  studentName: string;
  targetSchool: string;
  dailyDuration: number;
  apiKey: string;
  setStudentName: (name: string) => void;
  setTargetSchool: (school: string) => void;
  // ...
}
```

---

## AIé›†æˆè¯´æ˜

### DeepSeek APIé›†æˆ

**é…ç½®ä½ç½®**: `backend/.env`

```env
DEEPSEEK_API_KEY=sk-...
DEEPSEEK_API_URL=https://api.deepseek.com
```

**å®¢æˆ·ç«¯å®ç°**: `backend/src/ai/deepseek.ts`

```typescript
class DeepSeekClient {
  async chat(messages: ChatMessage[]): Promise<string> {
    // è°ƒç”¨APIå¹¶è¿”å›å“åº”
  }
}
```

### AIåŠŸèƒ½æ¸…å•

1. **è®­ç»ƒè®¡åˆ’ç”Ÿæˆ**
   - è¾“å…¥ï¼šå­¦ç”Ÿä¿¡æ¯ã€ç›®æ ‡å­¦æ ¡ã€æ—¶é—´èŒƒå›´
   - è¾“å‡ºï¼šæ¯æ—¥ä»»åŠ¡å®‰æ’ã€ç±»åˆ«åˆ†é…å»ºè®®

2. **é¢˜ç›®ç”Ÿæˆ**
   - è¾“å…¥ï¼šç±»åˆ«ã€éš¾åº¦ã€æ•°é‡ã€å­¦æ ¡ä»£ç 
   - è¾“å‡ºï¼šç¬¦åˆè¦æ±‚çš„é¢˜ç›®åˆ—è¡¨

3. **åé¦ˆåˆ†æ**
   - è¾“å…¥ï¼šé—®é¢˜å’Œå­¦ç”Ÿå›ç­”
   - è¾“å‡ºï¼šè¯„åˆ†ã€ä¼˜ç¼ºç‚¹ã€æ”¹è¿›å»ºè®®

4. **å­¦æ ¡æ¡£æ¡ˆç”Ÿæˆ**
   - è¾“å…¥ï¼šå­¦æ ¡åŸºæœ¬ä¿¡æ¯
   - è¾“å‡ºï¼šé¢è¯•ç‰¹ç‚¹ã€é‡ç‚¹é¢†åŸŸã€å»ºè®®

5. **é¢è¯•å›å¿†åˆ†æ** ğŸ†•
   - è¾“å…¥ï¼šé¢è¯•å›å¿†æ–‡æœ¬
   - è¾“å‡ºï¼šæå–çš„é¢˜ç›®åˆ—è¡¨ + å­¦ç”Ÿå¼±ç‚¹åˆ†æ

6. **é’ˆå¯¹æ€§é¢˜ç›®ç”Ÿæˆ** ğŸ†•
   - è¾“å…¥ï¼šå¼±ç‚¹IDåˆ—è¡¨æˆ–ç±»åˆ«
   - è¾“å‡ºï¼šé’ˆå¯¹å¼±ç‚¹çš„ç»ƒä¹ é¢˜ç›®

---

## æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### 1. åˆ›å»ºè®­ç»ƒè®¡åˆ’æµç¨‹

```
ç”¨æˆ·è¾“å…¥ä¿¡æ¯
    â†“
è°ƒç”¨ POST /api/ai/generate-plan
    â†“
AIç”Ÿæˆè®¡åˆ’å’Œä»»åŠ¡
    â†“
ä¿å­˜åˆ° training_plans + daily_tasks
    â†“
è¿”å›è®¡åˆ’è¯¦æƒ…
```

### 2. ç»ƒä¹ æµç¨‹

```
é€‰æ‹©ç±»åˆ«å’Œæ¨¡å¼
    â†“
åˆ›å»ºä¼šè¯ (POST /api/sessions)
    â†“
è·å–é¢˜ç›®åˆ—è¡¨
    â†“
ç”¨æˆ·ä½œç­”
    â†“
æäº¤ç­”æ¡ˆ (POST /api/sessions/:id/answer)
    â†“
ç»“æŸä¼šè¯
    â†“
è¯·æ±‚AIåé¦ˆ (POST /api/ai/analyze-feedback)
    â†“
ä¿å­˜åé¦ˆ (feedbackè¡¨)
```

### 3. é¢è¯•å›å¿†åˆ†ææµç¨‹ ğŸ†•

```
ç”¨æˆ·è¾“å…¥é¢è¯•å›å¿†æ–‡æœ¬
    â†“
è°ƒç”¨ POST /api/ai/extract-interview-memory
    â†“
AIæå–ï¼š
  - é¢è¯•é¢˜ç›®åˆ—è¡¨
  - å­¦ç”Ÿå¼±ç‚¹åˆ†æ
    â†“
å‰ç«¯å±•ç¤ºæå–ç»“æœ
    â†“
ç”¨æˆ·ç¡®è®¤å¹¶ä¿å­˜
    â†“
åŒæ—¶ä¿å­˜åˆ°ï¼š
  - questionsè¡¨ (é¢˜ç›®)
  - student_weaknessesè¡¨ (å¼±ç‚¹)
```

### 4. é’ˆå¯¹æ€§é¢˜ç›®ç”Ÿæˆæµç¨‹ ğŸ†•

```
æŸ¥çœ‹å¼±ç‚¹åˆ—è¡¨
    â†“
é€‰æ‹©è¦åŠ å¼ºçš„å¼±ç‚¹
    â†“
è°ƒç”¨ POST /api/ai/generate-questions-from-weaknesses
    â†“
AIåˆ†æå¼±ç‚¹ç‰¹å¾
    â†“
ç”Ÿæˆé’ˆå¯¹æ€§é¢˜ç›®
    â†“
ä¿å­˜åˆ° questionsè¡¨ (source='ai_generated_targeted')
    â†“
æ›´æ–°å¼±ç‚¹çš„ practice_count
```

---

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- MySQL >= 8.0
- npm >= 9.0.0

### å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
cd /path/to/interview-training-system

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp backend/.env.example backend/.env
# ç¼–è¾‘ backend/.envï¼Œå¡«å…¥ DEEPSEEK_API_KEY

# 3. å®‰è£…ä¾èµ–
npm run install:all

# 4. åˆå§‹åŒ–æ•°æ®åº“
npm run db:init

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
./dev.sh
# æˆ–ä½¿ç”¨ npm run dev
```

### æ·»åŠ æ–°åŠŸèƒ½

#### 1. æ·»åŠ æ–°çš„APIç«¯ç‚¹

```typescript
// backend/src/routes/myroute.ts
import { Router } from 'express';

const router = Router();

router.get('/my-endpoint', async (req, res) => {
  // å®ç°é€»è¾‘
  res.json({ success: true, data: {} });
});

export default router;
```

```typescript
// backend/src/index.ts
import myRoutes from './routes/myroute.js';
app.use('/api/my', myRoutes);
```

#### 2. æ·»åŠ æ–°çš„å‰ç«¯é¡µé¢

```tsx
// frontend/src/pages/MyPage/index.tsx
export default function MyPage() {
  return <div>My New Page</div>;
}
```

```tsx
// frontend/src/App.tsx
import MyPage from './pages/MyPage';

const routes = [
  // ...
  { path: '/my-page', element: <MyPage /> },
];
```

#### 3. æ·»åŠ æ–°çš„æ•°æ®è¡¨

```sql
-- backend/src/db/schema.sql
CREATE TABLE IF NOT EXISTS my_table (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

é‡æ–°è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–ï¼š
```bash
npm run db:init
```

### è°ƒè¯•æŠ€å·§

#### 1. åç«¯è°ƒè¯•

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f /tmp/backend.log

# æˆ–åœ¨ç»ˆç«¯ç›´æ¥è¿è¡Œ
cd backend && npm run dev
```

#### 2. å‰ç«¯è°ƒè¯•

æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Console/Network

#### 3. æ•°æ®åº“è°ƒè¯•

```bash
mysql -u root -p
use interview_training;
SELECT * FROM training_plans;
```

#### 4. APIæµ‹è¯•

```bash
# ä½¿ç”¨ curl
curl http://localhost:3001/api/schools

# æˆ–ä½¿ç”¨ Postman / Insomnia
```

---

## æµ‹è¯•

### å•å…ƒæµ‹è¯•ï¼ˆå¾…å®Œå–„ï¼‰

```bash
# åç«¯æµ‹è¯•
cd backend && npm test

# å‰ç«¯æµ‹è¯•
cd frontend && npm test
```

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

- [ ] åˆ›å»ºè®­ç»ƒè®¡åˆ’
- [ ] å¼€å§‹ç»ƒä¹ ä¼šè¯
- [ ] æäº¤ç­”æ¡ˆå¹¶è·å–åé¦ˆ
- [ ] æŸ¥çœ‹è¿›åº¦æŠ¥å‘Š
- [ ] ç®¡ç†é¢˜åº“ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- [ ] é¢è¯•å›å¿†å½•å…¥å’Œåˆ†æ
- [ ] æ ¹æ®å¼±ç‚¹ç”Ÿæˆé¢˜ç›®
- [ ] å¯¼å‡º/å¯¼å…¥æ•°æ®

---

## éƒ¨ç½²

### æœ¬åœ°éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# ä¸€é”®å¯åŠ¨
./dev.sh

# æˆ–ä½¿ç”¨ quick-start
./quick-start.sh
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

1. æ„å»ºå‰ç«¯ï¼š
```bash
cd frontend && npm run build
```

2. é…ç½®åç«¯æœåŠ¡é™æ€æ–‡ä»¶ï¼š
```typescript
// backend/src/index.ts
app.use(express.static('../frontend/dist'));
```

3. ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹ï¼š
```bash
npm install -g pm2
pm2 start backend/src/index.ts --name interview-training
```

---

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. åç«¯æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**ï¼šç«¯å£ 3001 æ— å“åº”

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥è¿›ç¨‹
lsof -i :3001

# æ¸…ç†æ®‹ç•™è¿›ç¨‹
pkill -9 -f "tsx watch"

# é‡æ–°å¯åŠ¨
cd backend && npm run dev
```

#### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼š`ECONNREFUSED` é”™è¯¯

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥ MySQL æ˜¯å¦è¿è¡Œ
mysql.server status

# å¯åŠ¨ MySQL
mysql.server start

# æ£€æŸ¥ backend/.env é…ç½®
```

#### 3. AI API è°ƒç”¨å¤±è´¥

**ç—‡çŠ¶**ï¼šAI åŠŸèƒ½è¿”å›é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥ `DEEPSEEK_API_KEY` æ˜¯å¦é…ç½®
- ä½¿ç”¨æµ‹è¯•è¿æ¥åŠŸèƒ½ï¼šSettings â†’ æµ‹è¯•è¿æ¥
- æ£€æŸ¥ç½‘ç»œè¿æ¥

#### 4. å‰ç«¯é¡µé¢ç©ºç™½

**ç—‡çŠ¶**ï¼šæµè§ˆå™¨æ˜¾ç¤ºç©ºç™½é¡µ

**è§£å†³**ï¼š
- æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
- æ£€æŸ¥å‰ç«¯æ˜¯å¦æˆåŠŸå¯åŠ¨ï¼ˆ5173ç«¯å£ï¼‰
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

---

## æ€§èƒ½ä¼˜åŒ–

> **é‡è¦**ï¼šè¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£è¯·å‚è€ƒ [`docs/PERFORMANCE.md`](./docs/PERFORMANCE.md)

### æ€§èƒ½è¦æ±‚

- **å‰ç«¯é¡µé¢é¦–æ¬¡åŠ è½½æ—¶é—´**ï¼š< 1 ç§’ï¼ˆæœ¬åœ°ç¯å¢ƒï¼‰
- **API å“åº”æ—¶é—´**ï¼š< 500msï¼ˆç®€å•æŸ¥è¯¢ï¼‰ï¼Œ< 2 ç§’ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰
- **é¡µé¢åˆ·æ–°**ï¼šæ‰€æœ‰é¡µé¢åˆ·æ–°åèƒ½æ­£å¸¸åŠ è½½æ•°æ®

### 1. æ•°æ®åº“ä¼˜åŒ–

- âœ… **ç´¢å¼•ä¼˜åŒ–**ï¼šä¸ºæ‰€æœ‰å¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•ï¼ˆcategory, difficulty, school_code, status ç­‰ï¼‰
- âœ… **æŸ¥è¯¢ç¼“å­˜**ï¼šå¯¹é¢‘ç¹è®¿é—®çš„æŸ¥è¯¢ç»“æœè¿›è¡Œç¼“å­˜ï¼ˆå­¦æ ¡åˆ—è¡¨ã€ç»Ÿè®¡ä¿¡æ¯ï¼Œ5 åˆ†é’Ÿ TTLï¼‰
- âœ… **æ…¢æŸ¥è¯¢ç›‘æ§**ï¼šè®°å½•è¶…è¿‡ 100ms çš„æŸ¥è¯¢ï¼Œå¸®åŠ©è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
- âœ… **JSON å­—æ®µç»Ÿä¸€è§£æ**ï¼šåœ¨æ•°æ®åº“è®¿é—®å±‚ç»Ÿä¸€è§£æï¼Œé¿å…é‡å¤è§£æ
- âœ… **åˆ†é¡µæŸ¥è¯¢**ï¼šä½¿ç”¨ `queryWithPagination` å‡½æ•°ä¼˜åŒ–åˆ†é¡µæŸ¥è¯¢

### 2. å‰ç«¯ä¼˜åŒ–

- âœ… **API è¯·æ±‚ä¼˜åŒ–**ï¼š
  - å¹¶è¡Œè¯·æ±‚ï¼šä½¿ç”¨ `Promise.all` å¹¶è¡ŒåŠ è½½æ•°æ®
  - è¯·æ±‚å»é‡ï¼šç›¸åŒè¯·æ±‚åœ¨ pending æ—¶ä¸é‡å¤å‘é€
  - è¯·æ±‚ç¼“å­˜ï¼šGET è¯·æ±‚ç¼“å­˜ 5 åˆ†é’Ÿ
  - è¯·æ±‚å–æ¶ˆï¼šç»„ä»¶å¸è½½æ—¶è‡ªåŠ¨å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚
  - é”™è¯¯é‡è¯•ï¼šç½‘ç»œé”™è¯¯æ—¶è‡ªåŠ¨é‡è¯• 1 æ¬¡ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- âœ… **React æ€§èƒ½ä¼˜åŒ–**ï¼š
  - ä½¿ç”¨ `useMemo` ç¼“å­˜è®¡ç®—ç»“æœ
  - ä½¿ç”¨ `useCallback` ç¼“å­˜å›è°ƒå‡½æ•°
  - ä½¿ç”¨ `React.memo` ä¼˜åŒ–åˆ—è¡¨ç»„ä»¶
  - ä¼˜åŒ– columns å®šä¹‰ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“é‡æ–°åˆ›å»º
- âœ… **é¡µé¢ä¼˜åŒ–**ï¼š
  - Dashboard é¡µé¢ï¼šå¹¶è¡ŒåŠ è½½ä»»åŠ¡ã€ä¼šè¯ã€å¼±ç‚¹æ•°æ®
  - Questions é¡µé¢ï¼šå¹¶è¡ŒåŠ è½½é¢˜ç›®ã€ç»Ÿè®¡ã€å­¦æ ¡åˆ—è¡¨

### 3. APIä¼˜åŒ–

- âœ… **è¯·æ±‚ç¼“å­˜**ï¼šGET è¯·æ±‚è‡ªåŠ¨ç¼“å­˜ 5 åˆ†é’Ÿ
- âœ… **æ‰¹é‡APIè°ƒç”¨**ï¼šä½¿ç”¨ `Promise.all` å¹¶è¡Œæ‰§è¡Œå¤šä¸ªè¯·æ±‚
- âœ… **æŸ¥è¯¢ç»“æœç¼“å­˜**ï¼šåç«¯å¯¹é¢‘ç¹è®¿é—®çš„æ•°æ®ä½¿ç”¨ç¼“å­˜
- âœ… **è¶…æ—¶è®¾ç½®**ï¼šAPI è¶…æ—¶ä» 30 ç§’é™ä½åˆ° 10 ç§’

### æ€§èƒ½ç›‘æ§

- **å‰ç«¯**ï¼šä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…· Network é¢æ¿å’Œ React DevTools Profiler
- **åç«¯**ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆ> 100msï¼‰è‡ªåŠ¨è¾“å‡ºåˆ°æ§åˆ¶å°

è¯¦ç»†å†…å®¹è¯·å‚è€ƒ [`docs/PERFORMANCE.md`](./docs/PERFORMANCE.md)

---

## å®‰å…¨è€ƒè™‘

### 1. API Key ç®¡ç†

- DeepSeek API Key å­˜å‚¨åœ¨æœ¬åœ° `.env` æ–‡ä»¶
- å‰ç«¯æ˜¾ç¤ºæ—¶è¿›è¡Œè„±æ•å¤„ç†ï¼ˆsk-...ï¼‰
- ä»ä¸æäº¤ `.env` æ–‡ä»¶åˆ°ç‰ˆæœ¬æ§åˆ¶

### 2. æ•°æ®éšç§

- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° MySQL
- ä¸ä¸Šä¼ å­¦ç”Ÿæ•°æ®åˆ°äº‘ç«¯
- åªæœ‰AIåˆ†ææ—¶æ‰å‘é€å¿…è¦æ•°æ®åˆ°DeepSeek

### 3. è¾“å…¥éªŒè¯

- æ‰€æœ‰APIç«¯ç‚¹è¿›è¡Œå‚æ•°éªŒè¯
- ä½¿ç”¨ AppError ç»Ÿä¸€é”™è¯¯å¤„ç†
- SQLæŸ¥è¯¢ä½¿ç”¨å‚æ•°åŒ–é˜²æ­¢æ³¨å…¥

---

## è´¡çŒ®æŒ‡å—

### ä»£ç é£æ ¼

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint é…ç½®
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 

### æäº¤è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

### Pull Request æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. ç¼–å†™ä»£ç å’Œæµ‹è¯•
4. æäº¤ PR å¹¶è¯´æ˜å˜æ›´

---

## é™„å½•

### A. ä¸“é¡¹ç±»åˆ«è¯´æ˜

1. **english-oral** - è‹±æ–‡å£è¯­ï¼šè‡ªæˆ‘ä»‹ç»ã€è¯é¢˜è®¨è®ºã€æƒ…æ™¯å¯¹è¯
2. **chinese-oral** - ä¸­æ–‡å£è¯­ï¼šæœ—è¯»ã€è®²æ•…äº‹ã€çœ‹å›¾è¯´è¯
3. **logic-thinking** - é€»è¾‘æ€ç»´ï¼šæ•°å­¦æ¨ç†ã€å›¾å½¢è§„å¾‹ã€è„‘ç­‹æ€¥è½¬å¼¯
4. **current-affairs** - æ—¶äº‹å¸¸è¯†ï¼šæ–°é—»ã€ç¤¾ä¼šè®®é¢˜ã€æ”¿æ²»åŸºç¡€
5. **science-knowledge** - ç§‘å­¦å¸¸è¯†ï¼šè‡ªç„¶ã€ç§‘æŠ€ã€ç¯ä¿
6. **personal-growth** - ä¸ªäººæˆé•¿ï¼šå…´è¶£çˆ±å¥½ã€ç›®æ ‡è§„åˆ’ã€å“æ ¼
7. **group-discussion** - å°ç»„è®¨è®ºï¼šå›¢é˜Ÿåˆä½œã€è¾©è®ºã€è§’è‰²æ‰®æ¼”

### B. å¼±ç‚¹ç±»å‹è¯´æ˜

1. **vocabulary** - è¯æ±‡é‡ä¸è¶³
2. **grammar** - è¯­æ³•é”™è¯¯
3. **logic** - é€»è¾‘ä¸æ¸…æ™°
4. **knowledge_gap** - çŸ¥è¯†ç›²åŒº
5. **confidence** - ä¿¡å¿ƒä¸è¶³
6. **expression** - è¡¨è¾¾èƒ½åŠ›å¼±

### C. ç›¸å…³èµ„æº

- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/docs)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Ant Design ç»„ä»¶åº“](https://ant.design/)
- [Express æ–‡æ¡£](https://expressjs.com/)

---

**ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2026-01-24
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
