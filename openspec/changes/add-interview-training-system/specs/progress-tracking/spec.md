# Capability: Progress Tracking (進度追踪)

## ADDED Requirements

### Requirement: 會話历史記錄
係統SHALL完整記錄所有練習會話的數據。

#### Scenario: 記錄會話基本信息
- **WHEN** 用户完成一次練習會話
- **THEN** 係統保存會話ID、開始/結束時間、專項類別、關聯計劃ID
- **AND** 保存完成題數、總題數、整体得分
- **AND** 保存每道題的問答記錄和AI反馈

#### Scenario: 查询历史會話列表
- **WHEN** 用户查询历史會話
- **THEN** 默认显示最近30天的會話列表（按時間倒序）
- **AND** 每条記錄显示日期、類別、題數、平均分
- **AND** 支持按類別、日期范围、計劃筛選

### Requirement: 進度統計和可视化
係統SHALL提供多維度的進度統計數據。

#### Scenario: 按時間統計練習量
- **WHEN** 用户查看進度統計
- **THEN** 显示指定時間段（如最近7天、30天）的練習频率
- **AND** 統計總會話數、總題數、總練習時長
- **AND** 以日历热力图或柱狀图形式展示（文本图表或導出數據）

#### Scenario: 按類別統計表现
- **WHEN** 用户查看各專項表现
- **THEN** 显示七大類別的練習題數、平均分、最高/最低分
- **AND** 識別最强和最弱的類別
- **AND** 對比各類別的練習分布是否均衡

#### Scenario: 得分趋勢分析
- **WHEN** 用户查看得分趋勢
- **THEN** 显示最近N次會話的得分折线图（按時間）
- **AND** 計算得分的变化趋勢（上升/下降/稳定）
- **AND** 標注显著的進步或退步時間點

### Requirement: 弱點追踪
係統SHALL持续追踪和分析學生的薄弱环节。

#### Scenario: 識別持续弱點
- **WHEN** 係統分析历史會話數據
- **THEN** 識別连续表现不佳的類別或子領域（如"邏輯思維題连续5次<60分"）
- **AND** 標注弱點的持续時間和嚴重程度
- **AND** 生成弱點报告并建議增加針對性練習

#### Scenario: 追踪弱點改善情况
- **WHEN** 係統检测到之前的弱點
- **THEN** 對比最近表现与弱點期表现
- **AND** 判断弱點是否已改善（如"邏輯思維從平均58分提升至75分"）
- **AND** 如已改善，標記弱點为"已克服"并给予正面反馈

### Requirement: 里程碑和成就
係統SHALL識別和庆祝學生達成的里程碑。

#### Scenario: 識別練習里程碑
- **WHEN** 用户累計練習達到特定數量（如完成100題、練習30天等）
- **THEN** 係統生成里程碑成就提示
- **AND** 記錄成就達成時間
- **AND** 可選：生成成就徽章或证書

#### Scenario: 識別表现突破
- **WHEN** 用户某類別得分首次達到優秀（如英文口語首次>85分）
- **THEN** 係統標記为"突破成就"
- **AND** 在進度报告中高亮显示

### Requirement: 進度报告生成
係統SHALL生成周期性和按需的進度报告。

#### Scenario: 生成每周進度报告
- **WHEN** 每周結束或用户主動请求周报
- **THEN** 係統生成包含以下內容的报告：
  - 本周練習統計（會話數、題數、總時長）
  - 各類別表现和得分對比
  - 本周弱點和改進建議
  - 与上周對比的進步情况
- **AND** 报告以結构化文本或Markdown格式展示
- **AND** 支持導出为PDF（可選功能）

#### Scenario: 生成面試前總結报告
- **WHEN** 接近面試日期（如提前1周）或用户请求總結
- **THEN** 係統生成完整的訓練總結报告：
  - 整体練習概览（總題數、總時長、完成率）
  - 各類別表现雷達图或評分表
  - 已克服的弱點和仍需注意的方面
  - 針對目標學校的準備充分度評估
  - 最後冲刺建議
- **AND** 报告可分享给家長或老师

### Requirement: 數據導出
係統SHALL支持導出進度數據以便外部分析。

#### Scenario: 導出會話原始數據
- **WHEN** 用户请求導出數據
- **THEN** 係統将历史會話數據導出为CSV或JSON格式
- **AND** 包含：會話ID、時間、類別、題目、回答、反馈、得分等字段
- **AND** 支持按日期范围和類別筛選導出

#### Scenario: 導出統計图表
- **WHEN** 用户请求導出可视化數據
- **THEN** 係統生成图表图片（PNG/SVG）或數據表格（CSV）
- **AND** 包含：得分趋勢、類別雷達图、練習日历等
- **AND** 适合用于打印或演示

### Requirement: 對比和基準
係統SHALL提供對比和基準功能帮助用户了解自己的水平。

#### Scenario: 自我纵向對比
- **WHEN** 用户查看進度時
- **THEN** 显示"本月 vs 上月"、"本周 vs 上周"等對比數據
- **AND** 以百分比或绝對值显示变化（如"+12%"、"+8分"）

#### Scenario: 目標達成度追踪
- **WHEN** 用户设置了目標（如"英文口語達到85分"）
- **THEN** 显示当前距离目標的差距和预計達成時間
- **AND** 根據進步速度给出是否需要加强練習的建議
