## MODIFIED Requirements

### Requirement: 启動練習會話
係統SHALL允许用户启動新的練習會話，当題目不足時自動生成。

#### Scenario: 自由模式創建會話時自動生成題目
- **WHEN** 用户創建自由模式練習會話（不關聯任務）
- **AND** 指定了類別和題目數量
- **AND** 该類別題庫中没有足够數量的可用題目
- **THEN** 係統自動調用AI生成所需數量的題目（至少3題）
- **AND** 生成的題目保存到數據庫
- **AND** 使用指定的類別、默认難度（medium）作为生成參數
- **AND** 生成完成後继续創建會話
- **AND** 如果AI生成失敗，尝試使用简化參數重新生成
- **AND** 如果仍然失敗，返回友好的错误提示，但不導致服務崩溃
