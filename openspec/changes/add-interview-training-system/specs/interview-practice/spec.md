# Capability: Interview Practice (面试练习)

## ADDED Requirements

### Requirement: 启动练习会话
系统SHALL允许用户启动新的练习会话，并根据训练计划选择合适的题目。

#### Scenario: 根据今日任务启动练习
- **WHEN** 用户启动练习并指定专项类别（如"english-oral"）
- **THEN** 系统从题库中选择符合条件的题目（匹配目标学校、适当难度）
- **AND** 创建新的会话记录（包含会话ID、开始时间、专项类别）
- **AND** 展示第一道题目给用户

#### Scenario: 指定题目数量
- **WHEN** 用户启动练习并指定做题数量（如10题）
- **THEN** 系统预先选择相应数量的题目
- **AND** 显示进度指示（如"第1/10题"）

### Requirement: 文字问答模式
系统SHALL支持用户通过文字输入回答问题。

#### Scenario: 提交文字答案
- **WHEN** 用户输入答案文字并提交
- **THEN** 系统保存问答记录（题目ID、问题文本、学生答案、时间戳）
- **AND** 提示是否查看即时反馈或继续下一题

#### Scenario: 跳过题目
- **WHEN** 用户选择跳过当前题目
- **THEN** 系统标记该题为"已跳过"但保留记录
- **AND** 展示下一题

### Requirement: AI模拟面试官
系统SHALL使用AI扮演面试官角色，进行动态提问和追问。

#### Scenario: AI生成开场问题
- **WHEN** 用户启动"AI模拟面试"模式
- **THEN** 系统调用AI生成开场问题（基于专项类别和学校特征）
- **AND** 展示问题并等待用户回答

#### Scenario: AI根据回答追问
- **WHEN** 用户回答后，AI识别回答需要深入探讨的点
- **THEN** AI生成追问（如"你能举个具体例子吗？"）
- **AND** 继续对话直到达到预设轮数（如3-5轮）或用户结束

#### Scenario: AI对话异常处理
- **WHEN** AI API调用失败或响应超时
- **THEN** 系统切换回题库模式，从预设题目中选题
- **AND** 提示用户当前使用备用题库

### Requirement: 题目生成和扩展
系统SHALL支持动态生成新题目以补充题库。

#### Scenario: AI批量生成题目
- **WHEN** 用户请求生成指定类别和数量的题目（如"生成10道英文口语题"）
- **THEN** 系统调用AI生成题目列表（包含问题文本、参考答案、评分标准）
- **AND** 将生成的题目保存到题库并分配唯一ID
- **AND** 标注生成来源和时间

#### Scenario: 根据弱点生成针对性题目
- **WHEN** 系统检测到用户某方面持续薄弱（如"时事常识"）
- **THEN** 自动生成针对该弱点的题目
- **AND** 在题目元数据中标注"针对弱点：时事常识"

### Requirement: 会话管理
系统SHALL管理练习会话的生命周期和状态。

#### Scenario: 暂停和恢复会话
- **WHEN** 用户在会话中途退出
- **THEN** 系统保存当前进度（已完成题数、当前题目ID）
- **AND** 用户下次启动时可选择继续未完成会话或开始新会话

#### Scenario: 完成会话并生成总结
- **WHEN** 用户完成所有题目或主动结束会话
- **THEN** 系统标记会话为"已完成"并记录结束时间
- **AND** 触发AI生成会话总结（整体表现、亮点、弱点）
- **AND** 更新每日任务的完成计数
