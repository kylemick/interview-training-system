## ADDED Requirements

### Requirement: 弱点学习素材管理
系统SHALL提供学习素材管理功能，允许用户为弱点创建、查看、编辑和删除学习素材，帮助系统化地提升弱点。

#### Scenario: 查看弱点关联的学习素材
- **WHEN** 用户在弱点详情页面
- **THEN** 系统显示该弱点关联的所有学习素材列表
- **AND** 每个素材显示标题、类型、创建时间
- **AND** 用户可以点击素材查看详情

#### Scenario: 为弱点生成学习素材
- **WHEN** 用户在弱点详情页面点击"生成学习素材"按钮
- **THEN** 系统显示素材类型选择对话框
- **WHEN** 用户选择素材类型并确认
- **THEN** 系统调用AI生成针对该弱点的学习素材
- **AND** 素材自动关联到该弱点
- **AND** 素材保存到数据库
- **AND** 系统显示生成成功消息

#### Scenario: 查看学习素材详情
- **WHEN** 用户点击素材标题或"查看详情"
- **THEN** 系统显示素材完整内容
- **AND** 支持Markdown格式渲染
- **AND** 显示关联的弱点信息
- **AND** 显示使用统计（查看次数、关联练习次数）

#### Scenario: 编辑学习素材
- **WHEN** 用户在素材详情页面点击"编辑"按钮
- **THEN** 系统显示编辑表单
- **WHEN** 用户修改内容并保存
- **THEN** 系统更新素材内容
- **AND** 更新修改时间

#### Scenario: 删除学习素材
- **WHEN** 用户在素材详情页面点击"删除"按钮
- **THEN** 系统显示确认对话框
- **WHEN** 用户确认删除
- **THEN** 系统删除素材记录
- **AND** 解除与弱点的关联（但不删除弱点）

## MODIFIED Requirements

### Requirement: 弱点详情页面操作
系统SHALL在弱点详情页面提供完整的弱点管理操作，包括状态更新、删除、生成题目、创建训练计划，以及生成学习素材。

#### Scenario: 弱点详情页面操作
- **WHEN** 用户在弱点详情页面
- **THEN** 系统显示弱点的完整信息（描述、示例、改进建议、相关话题等）
- **AND** 提供操作按钮：更新状态、删除、生成针对性题目、创建训练计划、生成学习素材
- **WHEN** 用户点击"生成学习素材"
- **THEN** 系统显示素材生成对话框
- **AND** 用户可以选择素材类型
- **AND** 系统使用AI生成个性化学习素材
- **AND** 素材自动关联到当前弱点
