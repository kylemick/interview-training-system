## MODIFIED Requirements

### Requirement: 启动练习会话
系统SHALL允许用户从训练计划任务启动练习会话，当题目不足时自动生成。

#### Scenario: 从任务启动练习时自动生成题目
- **WHEN** 用户从训练计划任务启动练习会话
- **AND** 该任务类别的题库中没有可用题目
- **THEN** 系统自动调用AI生成题目（数量根据任务时长计算，至少3题）
- **AND** 生成的题目保存到数据库
- **AND** 使用任务的类别、关联计划的目标学校作为生成参数
- **AND** 生成完成后继续创建会话，用户无需手动操作
- **AND** 如果AI生成失败，尝试使用简化参数重新生成
- **AND** 如果仍然失败，返回友好的错误提示，但不导致服务崩溃

#### Scenario: 现有会话题目缺失时自动补充
- **WHEN** 用户继续现有练习会话
- **AND** 会话中保存的题目已被删除或不存在
- **AND** 从题库重新查询时发现该类别没有可用题目
- **THEN** 系统自动调用AI生成题目
- **AND** 更新会话的题目ID列表
- **AND** 继续返回会话信息，用户可正常练习
