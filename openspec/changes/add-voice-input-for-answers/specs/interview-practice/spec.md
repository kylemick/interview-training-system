# Capability: Interview Practice (面试练习)

## MODIFIED Requirements

### Requirement: 文字问答模式
系统SHALL支持用户通过文字输入或语音输入回答问题。

#### Scenario: 提交文字答案
- **WHEN** 用户输入答案文字并提交
- **THEN** 系统保存问答记录（题目ID、问题文本、学生答案、时间戳）
- **AND** 提示是否查看即时反馈或继续下一题

#### Scenario: 提交语音答案
- **WHEN** 用户点击语音输入按钮并开始录音
- **THEN** 系统启动语音识别（支持中文、英文）
- **AND** 实时显示识别结果
- **AND** 识别完成后自动填充到文本输入框
- **AND** 用户可编辑识别结果后提交
- **AND** 系统保存问答记录（与文字答案相同格式）

#### Scenario: 语音输入语言选择
- **WHEN** 用户首次使用语音输入或需要切换语言
- **THEN** 系统显示语言选择器（中文/英文）
- **AND** 根据用户选择设置识别语言
- **AND** 保存用户语言偏好（可选）

#### Scenario: 语音识别错误处理
- **WHEN** 语音识别失败（网络错误、权限拒绝、识别超时）
- **THEN** 系统显示错误提示
- **AND** 允许用户重试或切换回文本输入
- **AND** 不影响现有文本输入功能

#### Scenario: 浏览器兼容性处理
- **WHEN** 用户使用的浏览器不支持语音识别API
- **THEN** 系统自动隐藏语音输入按钮
- **AND** 仅显示文本输入功能
- **AND** 不显示错误提示（降级处理）

#### Scenario: 跳过题目
- **WHEN** 用户选择跳过当前题目
- **THEN** 系统标记该题为"已跳过"但保留记录
- **AND** 展示下一题

## ADDED Requirements

### Requirement: 语音输入功能
系统SHALL提供语音输入功能，允许用户通过说话的方式输入答案，系统自动将语音转换为文本。

#### Scenario: 启动语音输入
- **WHEN** 用户点击"语音输入"按钮
- **THEN** 系统请求麦克风权限（如未授权）
- **AND** 开始录音并显示录音状态指示
- **AND** 显示录音时长

#### Scenario: 实时语音识别
- **WHEN** 用户正在录音
- **THEN** 系统实时显示识别中间结果（如果API支持）
- **AND** 提供视觉反馈（录音中动画、识别中提示）

#### Scenario: 停止录音并识别
- **WHEN** 用户点击停止录音按钮
- **THEN** 系统停止录音并开始识别处理
- **AND** 显示"识别中"状态
- **AND** 识别完成后显示最终结果

#### Scenario: 识别结果处理
- **WHEN** 语音识别完成
- **THEN** 系统自动将识别结果填充到文本输入框
- **AND** 允许用户手动编辑识别结果
- **AND** 支持多次录音追加或替换内容

#### Scenario: 输入方式切换
- **WHEN** 用户在使用语音输入或文本输入
- **THEN** 系统允许用户随时切换输入方式
- **AND** 两种输入方式的结果可以合并编辑
- **AND** 保持输入框内容同步
