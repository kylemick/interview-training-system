---
description: 前端代碼模式和約定
globs: interview-training-system/frontend/**/*.{ts,tsx}
alwaysApply: false
---

# 前端代碼模式

## 頁面組件結構
- 每個頁面放在 `pages/` 下的獨立資料夾中，以 `index.tsx` 為入口
- 頁面通過 `App.tsx` 中的 `<Route>` 註冊路由
- 使用 `Layout` 組件包裹所有頁面（側邊導航 + 主內容區）

## 狀態管理模式（Zustand）
- Store 文件放在 `store/` 目錄，命名格式: `use[Feature]Store.ts`
- 使用 `create<State>((set, get) => ({...}))` 模式
- State 接口包含數據字段和 action 方法
- 示例：`useAiThinkingStore` 管理 AI 思考過程的全局展示

```typescript
// 標準 Zustand Store 模式
interface SomeState {
  data: SomeType | null
  loading: boolean
  // Actions
  fetchData: () => Promise<void>
  reset: () => void
}

export const useSomeStore = create<SomeState>((set, get) => ({
  data: null,
  loading: false,
  fetchData: async () => {
    set({ loading: true })
    // ...
    set({ data: result, loading: false })
  },
  reset: () => set({ data: null, loading: false }),
}))
```

## 自定義 Hooks 模式
- Hook 文件放在 `hooks/` 目錄，命名格式: `use[Feature].ts`
- `useAiThinking` - 封裝 AI 調用的思考展示邏輯，提供 `executeWithThinking` 方法
- `useAiLoading` - AI 加載狀態管理

## AI 思考展示模式
- 使用 `useAiThinking().executeWithThinking(taskType, asyncFn, options)` 統一管理 AI 調用
- `AiTaskType` 定義在 `useAiThinkingStore.ts`，新增 AI 任務需要同時更新：
  1. `AiTaskType` 類型
  2. `getThinkingStepsTemplate` 中的步驟模板
  3. `getTaskTypeName` 中的中文名稱

## API 調用模式
- 統一使用 `utils/api.ts` 中的 axios 實例
- API 基礎路徑: `http://localhost:3001/api`

## UI 組件使用
- 佈局使用 Ant Design 的 `Layout`, `Sider`, `Content`
- 表單使用 `Form`, `Input`, `Select`, `Button` 等 Ant Design 組件
- 數據展示使用 `Table`, `Card`, `Statistic` 等
- 消息提示使用 `message.success/error/warning`
- 圖表使用 `echarts-for-react` 的 `ReactECharts` 組件

## 語言和文字
- UI 文字使用繁體中文
- 代碼註釋可使用簡體或繁體中文
