## MODIFIED Requirements

### Requirement: 启動練習會話
係統SHALL允许用户從訓練計劃任務启動練習會話，当題目不足時自動生成。

#### Scenario: 從任務启動練習時自動生成題目
- **WHEN** 用户從訓練計劃任務启動練習會話
- **AND** 该任務類別的題庫中没有可用題目
- **THEN** 係統自動調用AI生成題目（數量根據任務時長計算，至少3題）
- **AND** 生成的題目保存到數據庫
- **AND** 使用任務的類別、關聯計劃的目標學校作为生成參數
- **AND** 生成完成後继续創建會話，用户无需手動操作
- **AND** 如果AI生成失敗，尝試使用简化參數重新生成
- **AND** 如果仍然失敗，返回友好的错误提示，但不導致服務崩溃

#### Scenario: 现有會話題目缺失時自動补充
- **WHEN** 用户继续现有練習會話
- **AND** 會話中保存的題目已被删除或不存在
- **AND** 從題庫重新查询時發现该類別没有可用題目
- **THEN** 係統自動調用AI生成題目
- **AND** 更新會話的題目ID列表
- **AND** 继续返回會話信息，用户可正常練習
