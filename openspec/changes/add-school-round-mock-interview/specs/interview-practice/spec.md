# Capability: Interview Practice (面试练习)

## MODIFIED Requirements

### Requirement: 启动练习会话
系统SHALL允许用户启动新的练习会话，并根据训练计划选择合适的题目。

#### Scenario: 根据今日任务启动练习
- **WHEN** 用户启动练习并指定专项类别（如"english-oral"）
- **THEN** 系统从题库中选择符合条件的题目（匹配目标学校、适当难度）
- **AND** 创建新的会话记录（包含会话ID、开始时间、专项类别）
- **AND** 展示第一道题目给用户

#### Scenario: 指定题目数量
- **WHEN** 用户启动练习并指定做题数量（如10题）
- **THEN** 系统预先选择相应数量的题目
- **AND** 显示进度指示（如"第1/10题"）

#### Scenario: 启动学校-轮次模拟面试
- **WHEN** 用户选择"学校-轮次模拟面试"模式并指定学校和轮次（如SPCC第一轮）
- **THEN** 系统搜索该学校对应轮次的历史题目和面试回忆
- **AND** 优先从题库中选择该学校该轮次的现有题目
- **AND** 如果题目数量不足，使用AI生成类似风格的题目（参考历史题目和面试回忆）
- **AND** 创建新的会话记录，标记为学校-轮次模拟面试模式
- **AND** 展示第一道题目给用户

#### Scenario: 学校-轮次数据不足时的降级处理
- **WHEN** 用户选择某学校某轮次，但该轮次的历史数据不足
- **THEN** 系统首先尝试使用该学校其他轮次的数据
- **AND** 如果仍不足，使用该学校的一般特征生成题目
- **AND** 在会话信息中提示用户数据来源和降级情况

## ADDED Requirements

### Requirement: 学校-轮次模拟面试模式
系统SHALL支持用户选择目标学校和面试轮次，进行完整的模拟面试练习。

#### Scenario: 选择学校和轮次
- **WHEN** 用户在"开始练习"页面选择"学校-轮次模拟面试"模式
- **THEN** 系统显示学校下拉选择器（从`school_profiles`表获取）
- **AND** 显示轮次下拉选择器（标准选项：第一轮、第二轮、最终轮，以及自定义选项）
- **AND** 用户可以选择学校和轮次后开始练习

#### Scenario: 基于轮次生成模拟题目
- **WHEN** 用户选择了学校和轮次（如SPCC第一轮）
- **THEN** 系统搜索`questions`表中该学校且来源为`interview_memory`的题目
- **AND** 搜索`interview_memories`表中该学校和轮次匹配的面试回忆
- **AND** 将这些历史数据作为参考，生成或选择类似风格的题目
- **AND** 生成的题目应覆盖该轮次常见的考查重点（基于学校特征和历史数据）

#### Scenario: 完整模拟面试流程
- **WHEN** 用户完成学校-轮次模拟面试的所有题目
- **THEN** 系统生成完整的模拟面试总结
- **AND** 总结应包含：整体表现、各专项得分、针对该学校该轮次的建议
- **AND** 与真实面试场景对比，指出需要改进的地方

#### Scenario: 题目来源信息展示
- **WHEN** 用户在模拟面试中查看题目详情
- **THEN** 系统显示题目来源信息（历史题目 vs AI生成）
- **AND** 如果是AI生成，显示参考了哪些历史题目或面试回忆
- **AND** 如果是历史题目，显示来源（面试回忆ID或题目ID）
