## ADDED Requirements

### Requirement: 弱點學習素材管理
係統SHALL提供學習素材管理功能，允许用户为弱點創建、查看、编輯和删除學習素材，帮助係統化地提升弱點。

#### Scenario: 查看弱點關聯的學習素材
- **WHEN** 用户在弱點详情页面
- **THEN** 係統显示该弱點關聯的所有學習素材列表
- **AND** 每个素材显示標題、類型、創建時間
- **AND** 用户可以點击素材查看详情

#### Scenario: 为弱點生成學習素材
- **WHEN** 用户在弱點详情页面點击"生成學習素材"按钮
- **THEN** 係統显示素材類型選擇對話框
- **WHEN** 用户選擇素材類型并確认
- **THEN** 係統調用AI生成針對该弱點的學習素材
- **AND** 素材自動關聯到该弱點
- **AND** 素材保存到數據庫
- **AND** 係統显示生成成功消息

#### Scenario: 查看學習素材详情
- **WHEN** 用户點击素材標題或"查看详情"
- **THEN** 係統显示素材完整內容
- **AND** 支持Markdown格式渲染
- **AND** 显示關聯的弱點信息
- **AND** 显示使用統計（查看次數、關聯練習次數）

#### Scenario: 编輯學習素材
- **WHEN** 用户在素材详情页面點击"编輯"按钮
- **THEN** 係統显示编輯表单
- **WHEN** 用户修改內容并保存
- **THEN** 係統更新素材內容
- **AND** 更新修改時間

#### Scenario: 删除學習素材
- **WHEN** 用户在素材详情页面點击"删除"按钮
- **THEN** 係統显示確认對話框
- **WHEN** 用户確认删除
- **THEN** 係統删除素材記錄
- **AND** 解除与弱點的關聯（但不删除弱點）

## MODIFIED Requirements

### Requirement: 弱點详情页面操作
係統SHALL在弱點详情页面提供完整的弱點管理操作，包括狀態更新、删除、生成題目、創建訓練計劃，以及生成學習素材。

#### Scenario: 弱點详情页面操作
- **WHEN** 用户在弱點详情页面
- **THEN** 係統显示弱點的完整信息（描述、示例、改進建議、相關話題等）
- **AND** 提供操作按钮：更新狀態、删除、生成針對性題目、創建訓練計劃、生成學習素材
- **WHEN** 用户點击"生成學習素材"
- **THEN** 係統显示素材生成對話框
- **AND** 用户可以選擇素材類型
- **AND** 係統使用AI生成个性化學習素材
- **AND** 素材自動關聯到当前弱點
